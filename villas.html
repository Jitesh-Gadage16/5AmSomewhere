<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="stylesheet" href="style.css">
    <link href="./lib/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <script src="https://kit.fontawesome.com/cb9a997e82.js" crossorigin="anonymous"></script>

    <!-- font  -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;1,300&display=swap"
        rel="stylesheet">
    <!-- Bootstarp css cdn  -->

    <!-- Bootstarp css cdn  -->
    <script src="https://kit.fontawesome.com/cb9a997e82.js" crossorigin="anonymous"></script>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous" />

    <!-- slick carousel  -->
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css" />
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- Date Picker cdn  -->
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>

    <title>Bootstrap Datepicker</title>
    <!-- lightGallery plugin cdn  -->

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.7.1/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.7.1/css/lg-autoplay.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.7.1/css/lg-comments.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.7.1/css/lg-fullscreen.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.7.1/css/lg-rotate.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.7.1/css/lg-share.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.7.1/css/lg-thumbnail.min.css">


</head>

<body>
    <!-- navbar start  -->


    <header class="pg-header">
        <div class="container-fluid px-md-5 py-2">
            <div class="header-content d-md-flex d-lg-flex  justify-content-between align-items-center">
                <div class="nav-left-menu d-none  d-xs-none d-sm-none d-md-block">
                    <!-- <a href="" class="nav-menu">Gallery</a> -->
                    <a href="villas.html" class="nav-menu">Villas</a>
                </div>

                <a href="javascript:;" class="nav-call  d-sm-block d-md-none" data-bs-toggle="offcanvas"
                    data-bs-target="#offcanvasExample" aria-controls="offcanvasExample">
                    <img src="./assets/icons-06.webp" alt="">
                </a>
                <a href="/" class="logo">
                    <img src="./assets/new-logo.png" alt="logo" />
                </a>

                <div class="nav-right-menu d-none  d-xs-none d-sm-none d-md-block">
                    <a href="/" class="nav-menu">
                        Home
                    </a>
                </div>
            </div>
        </div>
        <div class="offcanvas offcanvas-start none" tabindex="-1" id="offcanvasExample"
            aria-labelledby="offcanvasExampleLabel">
            <div class="offcanvas-header">

                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">
                <div class="offcanvas-menu">
                    <div class="offcanvas-logo">
                        <img src="./assets/new-logo.png" alt="logo" />
                    </div>
                    <ul class="mob-menu-div">
                        <li><a href="gallery.html">Gallery</a></li>
                        <li><a href="villas.html">Villas</a></li>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="contact.html">Contact Us</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </header>

    <!-- navbar End  -->

    <!-- Hero section start  -->

    <section class="pg-banner">
        <div class="banner-bg"
            style="background-image: url('https://www.rftpm.in/public/uploads/cms/1669714697.jpeg');"></div>
        <h1 class="hero__title">Our Properties</h1>



    </section>



    <section class="getAllProperties ">
        <div class="container py-3">
            <div class="row justify-content-between property-list h-100">

                <div class="col-md-12">
                    <div class="property-filter">
                        <input type="hidden" id="old_select_location" value="">
                        <form class="filter-form" id="VillasFilterForm" autocomplete="off">
                            <div class="form-floating mb-3">
                                <select name="inputPropertyVillage" class="form-select" id="inputPropertyVillage"
                                    data-placeholder="Choose your location in Goa">
                                    <option>Choose your location ....</option>
                                    <option value="Anjuna" data-id="2">Anjuna</option>
                                    <option value="Arpora" data-id="10">Arpora</option>
                                    <option value="Assagao" data-id="1">Assagao</option>
                                    <option value="Candolim" data-id="3">Candolim</option>
                                    <option value="Chapora" data-id="21">Chapora</option>
                                    <option value="Nerul" data-id="13">Nerul</option>
                                    <option value="Parra" data-id="11">Parra</option>
                                    <option value="Reis Magos" data-id="19">Reis Magos</option>
                                    <option value="Saipem" data-id="22">Saipem</option>
                                    <option value="Salvador" data-id="18">Salvador</option>
                                    <option value="Siolim" data-id="15">Siolim</option>
                                    <option value="Vagator" data-id="20">Vagator</option>
                                </select>

                                <input type="hidden" name="token" id="select_location" value="">
                                <label for="inputPropertyVillage">GOING TO</label>
                            </div>

                            <div class="form-floating mb-3">
                                <div class="input-group date" id="datepicker_in">
                                    <input type="text" class="form-control" placeholder="CHECK IN">
                                    <span class="input-group-append">
                                        <span class="input-group-text bg-white">
                                            <img src="./assets/calendar (1).png" class="calender-icon" alt="">
                                        </span>
                                    </span>
                                </div>
                            </div>


                            <div class="form-floating mb-3">
                                <div class="input-group date" id="datepicker_out">
                                    <input type="text" class="form-control" placeholder="CHECK OUT">
                                    <span class="input-group-append">
                                        <span class="input-group-text bg-white">
                                            <img src="./assets/calendar (1).png" class="calender-icon" alt="">
                                        </span>
                                    </span>
                                </div>
                            </div>
                            <div class="form-floating mb-3">
                                <select name="guest" class="form-select" id="filterGuest">
                                    <option value="">Select guest</option>
                                    <option value="1">1</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5</option>
                                    <option value="6">6</option>
                                    <option value="7">7</option>
                                    <option value="8">8</option>
                                    <option value="9">9</option>
                                    <option value="10">10</option>
                                    <option value="11">11</option>
                                    <option value="12">12</option>
                                    <option value="13">13</option>
                                    <option value="14">14</option>
                                    <option value="15">15</option>
                                    <option value="16">16</option>
                                    <option value="17">17</option>
                                    <option value="18">18</option>
                                    <option value="19">19</option>
                                    <option value="20">20</option>
                                    <option value="21">21+</option>
                                </select>
                                <label for="filterGuest">GUESTS</label>
                            </div>
                            <!-- <div class="mb-3 price-range2 ">
                                <div class="price-range-slider">
                                    <p class="range-value">
                                        <input type="text" id="priceRange" readonly>
                                        <input type="hidden" name="price_min" id="priceRangeMinVal"
                                            value="16200.00">
                                        <input type="hidden" name="price_max" id="priceRangeMaxVal"
                                            value="288000.00">
                                        <input type="hidden" id="defualtPriceRangeMinVal" value="16200.00">
                                        <input type="hidden" id="defualtPriceRangeMaxVal" value="288000.00">
                                    </p>
                                    <div id="slider-range" class="range-bar"></div>
                                </div>
                            </div> -->


                            <button type="buton" id="onClickToValidateFilter" class="filter-submit mb-3">Search</button>
                        </form>
                        <p id="FilterFormMessage"
                            style="text-align: center;border-radius: 0.25rem;border: 1px solid transparent;padding: 0.35rem;font-size: 18px;">
                        </p>
                    </div>
                </div>

                <div class="row justify-content-between property-list h-100 m-auto" id="show_data">

                    <div class="col-md-6 col-12 mt-sm-3">
                        <div class="list-item shimmer" data-markerid="88">
                            <!-- ... Your existing content ... -->

                            <div class="image-card animate"></div>

                            <div class="right-shimmer d-flex flex-column">
                                <div class="stroke animate title"></div>
                                <div class="stroke animate link"></div>
                                <div class="stroke animate description"></div>
                            </div>


                        </div>
                    </div>

                    <div class="col-md-6 col-12 mt-sm-3">
                        <div class="list-item shimmer" data-markerid="88">
                            <div class="image-card animate"></div>

                            <div class="right-shimmer d-flex flex-column">
                                <div class="stroke animate title"></div>
                                <div class="stroke animate link"></div>
                                <div class="stroke animate description"></div>
                            </div>
                        </div>
                    </div>

                   
                </div>
                <div class=" d-flex justify-content-center align-items-center my-4 mx-auto py-3 text-center  other-vilas"
                    style="display: none!important;">
                    <div class=" other-vila">Other Villas </div>
                </div>

                <div class="row justify-content-between property-list h-100 m-auto" id="show_unfilterdata">


                </div>

                <div class="row justify-content-between property-list h-100 m-auto" id="show_data_search"
                    style="display: none;">

                    <div class="col-md-6 col-12 mt-sm-3">
                        <div class="list-item shimmer" data-markerid="88">


                            <div class="image-card animate"></div>

                            <div class="right-shimmer d-flex flex-column">
                                <div class="stroke animate title"></div>
                                <div class="stroke animate link"></div>
                                <div class="stroke animate description"></div>
                            </div>


                        </div>
                    </div>

                    <div class="col-md-6 col-12 mt-sm-3">
                        <div class="list-item shimmer" data-markerid="88">
                            <div class="image-card animate"></div>

                            <div class="right-shimmer d-flex flex-column">
                                <div class="stroke animate title"></div>
                                <div class="stroke animate link"></div>
                                <div class="stroke animate description"></div>
                            </div>
                        </div>
                    </div>


                </div>
                <div class=" d-flex justify-content-center align-items-center my-4 mx-auto py-3 text-center  other-vilas sreach_other-villa"
                    style="display: none!important;">
                    <div class=" other-vila" id="sreach_other-villa">Other Villas </div>
                </div>

                <div class="row justify-content-between property-list h-100 m-auto" id="show_unfilterdata_search"
                    style="display: none;">



                </div>
            </div>





    </section>

    <div id="footer-placeholder"></div>
    <!-- 
    <button type="button" class="btn btn-success" id="dynamic-gallery-test">
        Launch Gallery with additional images
    </button>

    <button type="button" class="btn btn-success dynamic-gallery-demo">Launch Gallery</button>
    <button type="button" class="btn btn-success dynamic-gallery-demo">Launch Gallery</button>
 -->



    <!-- Footer End  -->
    <!-- Bootstrap js CDN  -->
    <script type="text/javascript" src="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>

    <script>
        fetch('footer.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('footer-placeholder').innerHTML = data;
            });
    </script>

    <!-- lightGallery script  -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.7.1/lightgallery.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.7.1/plugins/autoplay/lg-autoplay.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.7.1/plugins/fullscreen/lg-fullscreen.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.7.1/plugins/rotate/lg-rotate.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.7.1/plugins/share/lg-share.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.7.1/plugins/thumbnail/lg-thumbnail.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.7.1/plugins/zoom/lg-zoom.min.js"></script>

    <script>

        function getGallery(id) {

            console.log("id", id)

            fetch(`https://file.mycenter.co.in/property/api/propertyInfo/${id}`, {
                method: 'GET'
            })
                .then(response => response.json())
                .then(response => {

                    console.log(response.data[0].gallery);

                    var gallery = response.data[0].gallery;
                    const galleryArray = JSON.parse(gallery);
                    console.log("galleryArray", galleryArray)
                    var gallertHtml = "";

                    galleryArray.forEach(img => {
                        // console.log("img", img)
                        gallertHtml += ` 
                    <a data-lg-size="1400-1400" type="button" class="dynamic-gallery-test   gallery-item"
                        data-src="${img}">
                        <img class="img-fluid" src="${img}" />
                    </a>
                    

                </div>`


                    })
                    var imgobject = ""
                    var dyanmicArray = [];

                    galleryArray.forEach(imgss => {
                        // console.log("ites", imgss)
                        imgobject = {
                            src: imgss,
                            thumb: imgss,
                        }

                        dyanmicArray.push(imgobject);
                    })

                    console.log("dyanmicArray", dyanmicArray)

                    const $dynamicGallery = document.querySelectorAll(".dynamic-gallery-demo");
                    console.log("$dynamicGallery", $dynamicGallery)
                    const dynamicGallery = window.lightGallery($dynamicGallery, {
                        dynamic: true,
                        dynamicEl: dyanmicArray
                    });

                    $('.dynamic-gallery-demo').each(function (index, button) {
                        $(button).on('click', function () {
                            dynamicGallery.openGallery(0);
                            console.log('Button ' + (index + 1) + ' clicked.');
                            // Your event handling code here
                        });
                    });
                    // $dynamicGallery.addEventListener("click", () => {
                    //     console.log("clicked")
                    //     dynamicGallery.openGallery(0);
                    // });
                })
        }







    </script>





    <script type="text/javascript">
        $(function () {
            $('#datepicker_in').datepicker({
                // todayHighlight: true,
                startDate: new Date(),
                autoclose: true,
                datesDisabled: [new Date()]
            })
        });



        $(function () {
            $('#datepicker_out').datepicker({
                startDate: new Date(),
                autoclose: true,
                datesDisabled: [new Date()]
            })
        });
    </script>








    <script>
        const apiUrl = 'https://file.mycenter.co.in/property/api/allProperty';

      

        var hrefLocation = window.location.href;

        var urlParams = new URLSearchParams(window.location.search);
        var getid = urlParams.get('id');
        var from_date = urlParams.get('from_date');
        var to_date = urlParams.get('to_date');

        if (urlParams.get('id')) {
            getAddress()
        } else {
            console.log("id nahi mila")
        }

        console.log("hrefLocation", getid, from_date, to_date)



        // getAddress()



        var content = "";
        var filterContent = "";
        var unfilterConent = "";
        var pointsview = '';

        const villaContainer = document.getElementById('show_data');




        fetch(apiUrl, {
            method: 'GET',
        })
            .then(response => response.json())
            .then(response => {
                console.log("response", response.filtered_data);
                var AllVillas = response.filtered_data;

                
                for (let i = 0; i < AllVillas.length; i++) {

                    var val = AllVillas[i]

                    // console.log("vallll",val.info)

                    const firstThreeElements = val.info.slice(0, 3);
                    // console.log("firstThreeElements",firstThreeElements)


                    content += `<div class="col-md-6 col-12 mt-sm-3">
                        <div class="list-item" data-markerid="88">
                            <div  class="property-img dynamic-gallery-demo relative" id=${val.id} onclick=getGallery(${val.id})>
                                <img class="lazyload"
                                    src=${val.main_img}>
                                <i class="fa-regular fa-image open-gallery"></i>
                            </div>
                            <div class="prop-list-info d-flex flex-column justify-content-between">
                                <a target="_blank" href="property/amger.html" class="info-title"><b>${val.name}</b></a>
                                <div><i class="fa fa-map-marker pl-2" aria-hidden="true"></i> <span class="pl-2"> ${val.address} </span></div>
                                
                                <ul class="prop-opt">
                                    
                                    ${firstThreeElements.map(infoItem => `<li>${infoItem}</li>`).join('')}
                                </ul>

                               
                                <div class="prop-footer ">
                                    <div class="prop-share-new d-flex mt-2">
                                        <a target="_blank"
                                        href="${val.whatsapp}"
                                            class="share-new "><img src="./assets/whatsapp-overlay.png" alt=""></a>
                                        <a target="_blank"
                                            href="${val.insta}"
                                            class="share-new"><img src="./assets/instagram.png" alt=""></a>

                                        <a target="_blank" href="${val.map}" class="share-new "><img src="./assets/airbnb-overlay.png"
                                                alt=""></a>
                                        <a target="_blank"
                                        href="${val.map}"
                                            class="share-new"><img src="./assets/location-overlay.png" alt=""></a>

                                    </div>
                                    <div class="prop-extra ">
                                        Rs.${val.per_night}/Night
                                        <br>+ 18% taxes<br>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>`



                    document.querySelector('#show_data').innerHTML = content;
                    // document.querySelector('#show_data_search').style.display = 'none';
                    console.log("ye nahi print hona mangaty")
                    // document.querySelector('#show_unfilterdata_search').style.display = 'none';




                }




                // Create cards for each villa listing

            })
            .catch(error => console.error('Error fetching data:', error));



        const searchButton = document.getElementById('onClickToValidateFilter');
        searchButton.addEventListener('click', function (event) {


            event.preventDefault(); // Prevent the default form submission

            // Get the selected value of the inputPropertyVillage <select> element
            const selectedLocation = document.getElementById('inputPropertyVillage').value;

            // Get the value of the check-in date
            const checkinDate = document.querySelector('#datepicker_in input').value;
            const checkinComponents = checkinDate.split('/');

            // Reconstruct the date in the desired format "dd-mm-yyyy"
            const fromDate = `${checkinComponents[1]}-${checkinComponents[0]}-${checkinComponents[2]}`;


            // Get the value of the check-out date
            const checkoutDate = document.querySelector('#datepicker_out input').value;
            const checkoutComponents = checkoutDate.split('/');

            // Reconstruct the date in the desired format "dd-mm-yyyy"
            const toDate = `${checkoutComponents[1]}-${checkoutComponents[0]}-${checkoutComponents[2]}`;


            // Do something with the selected value
            console.log('Selected :', selectedLocation, fromDate, toDate);

            // var formData = {
            //     location :selectedLocation,
            //     from_date: fromDate,
            //     to_Date:toDate
            // }

            document.querySelector('#show_data').innerHTML = "";



            if (fromDate == toDate) {
                alert("end date should be greater than start date");
                return false;
            } else {

                const formData = new URLSearchParams();
                formData.append('location', selectedLocation);
                formData.append('fromDate', fromDate);
                formData.append('toDate', toDate);

                fetch(apiUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/x-www-form-urlencoded' // Specify URL-encoded content type
                    },
                    body: formData
                })
                    .then(response => response.json())
                    .then(response => {
                        console.log("res search btn", response)

                        var AllVillasList = "";
                        var unfilterVillasList = "";

                        var result = response;

                        AllVillasList = result.filtered_data;
                        unfilterVillasList = result.unfiltered_data


                        document.querySelector('#show_data').innerHTML

                        console.log("show_data", document.querySelector('#show_data'));
                        for (let i = 0; i < AllVillasList.length; i++) {


                            var val = AllVillasList[i]

                            const firstThreeElements = val.info.slice(0, 3);



                            filterContent += `<div class="col-md-6 col-12 mt-sm-3">
                        <div class="list-item" data-markerid="88">
                            <div  class="property-img dynamic-gallery-demo relative" >
                                <img class="lazyload"
                                    src=${val.main_img}>
                                <i class="fa-regular fa-image open-gallery"></i>
                            </div>
                            <div class="prop-list-info d-flex flex-column justify-content-between">
                                <a target="_blank" href="property/amger.html" class="info-title"><b>${val.name}</b></a>
                                <div><i class="fa fa-map-marker pl-2" aria-hidden="true"></i> <span class="pl-2"> ${val.address} </span></div>
                                
                                <ul class="prop-opt">
                                    
                                    ${firstThreeElements.map(infoItem => `<li>${infoItem}</li>`).join('')}
                                </ul>

                               
                                <div class="prop-footer ">
                                    <div class="prop-share-new d-flex mt-2">
                                        <a target="_blank"
                                        href="${val.whatsapp}"
                                            class="share-new "><img src="./assets/whatsapp-overlay.png" alt=""></a>
                                        <a target="_blank"
                                            href="${val.insta}"
                                            class="share-new"><img src="./assets/instagram.png" alt=""></a>

                                        <a target="_blank" href="${val.map}" class="share-new "><img src="./assets/airbnb-overlay.png"
                                                alt=""></a>
                                        <a target="_blank"
                                        href="${val.map}"
                                            class="share-new"><img src="./assets/location-overlay.png" alt=""></a>

                                    </div>
                                    <div class="prop-extra ">
                                        Rs.${val.per_night}/Night
                                        <br>+ 18% taxes<br>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>`
                        }

                        document.querySelector('#show_data').innerHTML = filterContent;



                        for (let i = 0; i < unfilterVillasList.length; i++) {
                            // console.log("value", unfilterVillasList[i])

                            // var cardpoints = document.querySelector('.prop-opt')

                            var Info = unfilterVillasList[i].info;
                            // console.log(info,"is array")


                            var val = unfilterVillasList[i]


                            const firstThreeElements = val.info.slice(0, 3);

                            unfilterConent += `<div class="col-md-6 col-12 mt-sm-3">
                        <div class="list-item" data-markerid="88">
                            <div  class="property-img dynamic-gallery-demo relative" >
                                <img class="lazyload"
                                    src=${val.main_img}>
                                <i class="fa-regular fa-image open-gallery"></i>
                            </div>
                            <div class="prop-list-info d-flex flex-column justify-content-between">
                                <a target="_blank" href="property/amger.html" class="info-title"><b>${val.name}</b></a>
                                <div><i class="fa fa-map-marker pl-2" aria-hidden="true"></i> <span class="pl-2"> ${val.address} </span></div>
                                
                                <ul class="prop-opt">
                                    
                                    ${firstThreeElements.map(infoItem => `<li>${infoItem}</li>`).join('')}
                                </ul>

                               
                                <div class="prop-footer ">
                                    <div class="prop-share-new d-flex mt-2">
                                        <a target="_blank"
                                        href="${val.whatsapp}"
                                            class="share-new "><img src="./assets/whatsapp-overlay.png" alt=""></a>
                                        <a target="_blank"
                                            href="${val.insta}"
                                            class="share-new"><img src="./assets/instagram.png" alt=""></a>

                                        <a target="_blank" href="${val.map}" class="share-new "><img src="./assets/airbnb-overlay.png"
                                                alt=""></a>
                                        <a target="_blank"
                                        href="${val.map}"
                                            class="share-new"><img src="./assets/location-overlay.png" alt=""></a>

                                    </div>
                                    <div class="prop-extra ">
                                        Rs.${val.per_night}/Night
                                        <br>+ 18% taxes<br>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>`


                            document.querySelector('.other-vilas').style.display = 'block';
                            // document.querySelector('.sreach_other-villa').style.display = 'none!important';



                            document.querySelector('#show_unfilterdata').innerHTML = unfilterConent;


                        }


                        // document.querySelector('#show_data_search').style.display = 'none';
                        console.log("===> kya seen iska")
                        // document.querySelector('#show_unfilterdata_search').style.display = 'none';

                    });
            }

        });















        fetch(apiUrl, {
            method: 'get',
        })
            .then(response => response.json())
            .then(response => {

                var option = '';

                var valuess = response.filtered_data;
                // console.log("value", valuess)
                var slectDiv = document.querySelector('#inputPropertyVillage')



                valuess.forEach((val, index) => {
                    option += `<option value="${val.address}" data_id="${index}">${val.address}</option>`
                })

                document.querySelector('#inputPropertyVillage').innerHTML = option;

                var optiondiv = document.createElement('option');
                optiondiv.innerHTML = 'Choose your location.. '
                optiondiv.selected = true;
                optiondiv.className = "default-option"
                slectDiv.appendChild(optiondiv);

                const defaultOption = document.querySelector('.default-option');

            })







        fetch(apiUrl, {
            method: 'get',
        })
            .then(response => response.json())
            .then(response => {

                var option = '';

                var valuess = response.filtered_data;
                console.log("value", valuess)
                var slectDiv = document.querySelector('#inputPropertyVillage')



                valuess.forEach((val, index) => {
                    option += `<option value="${val.address}" data_id="${index}">${val.address}</option>`
                })

                document.querySelector('#inputPropertyVillage').innerHTML = option;

                var optiondiv = document.createElement('option');
                optiondiv.innerHTML = 'Choose your location.. '
                optiondiv.selected = true;
                optiondiv.className = "default-option"
                slectDiv.appendChild(optiondiv);

                const defaultOption = document.querySelector('.default-option');
            })


       
        // function getVilllasList() {




        function getAddress() {
            fetch(apiUrl, {
                method: 'get',
            })
                .then(response => response.json())
                .then(response => {
                    // console.log("res",response)
                    var address = response
                    response.filtered_data.forEach(val => {
                        if (val.id == getid) {
                            address = val.address

                            const formDataUrl = new URLSearchParams();
                            formDataUrl.append('location', address);
                            formDataUrl.append('fromDate', from_date);
                            formDataUrl.append('toDate', to_date);

                            console.log("formDataUrl", formDataUrl)

                            fetch(apiUrl, {
                                method: 'POST',
                                headers: {
                                    'Content-Type': 'application/x-www-form-urlencoded' // Specify URL-encoded content type
                                },
                                body: formDataUrl
                            })
                                .then(response => response.json())
                                .then(response => {
                                    console.log("search response url", response)

                                    var AllVillas = response.filtered_data;
                                    var unfilterVillas = response.unfiltered_data

                                    document.querySelector('#show_data').style.display = 'none';
                                    document.querySelector('#show_unfilterdata').style.display = 'none';
                                    document.querySelector('#show_data_search').style.display = 'block!important';
                                    document.querySelector('#show_unfilterdata_search').style.display = 'none!important';



                                    for (let i = 0; i < AllVillas.length; i++) {


                                        var val = AllVillas[i]

                                        const firstThreeElements = val.info.slice(0, 3);

                                        filterContent += `<div class="col-md-6 col-12 mt-sm-3">
                <div class="list-item" data-markerid="88">
                    <div  class="property-img dynamic-gallery-demo relative" >
                                <img class="lazyload"
                                    src=${val.main_img}>
                                <i class="fa-regular fa-image open-gallery"></i>
                            </div>
                    <div class="prop-list-info d-flex flex-column justify-content-between">
                        <a target="_blank" href="property/amger.html" class="info-title"><b>${val.name}</b></a>
                        <div><i class="fa fa-map-marker pl-2" aria-hidden="true"></i> <span class="pl-2"> ${val.address} </span></div>
                        
                        <ul class="prop-opt">
                            
                            ${firstThreeElements.map(infoItem => `<li>${infoItem}</li>`).join('')}
                        </ul>

                       
                        <div class="prop-footer ">
                            <div class="prop-share-new d-flex mt-2">
                                <a target="_blank"
                                href="${val.whatsapp}"
                                    class="share-new "><img src="./assets/whatsapp-overlay.png" alt=""></a>
                                <a target="_blank"
                                    href="${val.insta}"
                                    class="share-new"><img src="./assets/instagram.png" alt=""></a>

                                <a target="_blank" href="${val.map}" class="share-new "><img src="./assets/airbnb-overlay.png"
                                        alt=""></a>
                                <a target="_blank"
                                href="${val.map}"
                                    class="share-new"><img src="./assets/location-overlay.png" alt=""></a>

                            </div>
                            <div class="prop-extra ">
                                Rs.${val.per_night}/Night
                                <br>+ 18% taxes<br>

                            </div>
                        </div>
                    </div>
                </div>
            </div>`
                                    }

                                    document.querySelector('#show_data_search').style.display = 'block!important'
                                    document.querySelector('#show_data_search').innerHTML = filterContent;



                                    for (let i = 0; i < unfilterVillas.length; i++) {
                                        // console.log("value", unfilterVillas[i])

                                        // var cardpoints = document.querySelector('.prop-opt')

                                        var Info = unfilterVillas[i].info;
                                        // console.log(info,"is array")


                                        var val = unfilterVillas[i]

                                        const firstThreeElements = val.info.slice(0, 3);



                                        unfilterConent += `<div class="col-md-6 col-12 mt-sm-3">
                <div class="list-item" data-markerid="88">
                    <div  class="property-img dynamic-gallery-demo relative" >
                                <img class="lazyload"
                                    src=${val.main_img}>
                                <i class="fa-regular fa-image open-gallery"></i>
                            </div>
                    <div class="prop-list-info d-flex flex-column justify-content-between">
                        <a target="_blank" href="property/amger.html" class="info-title"><b>${val.name}</b></a>
                        <div><i class="fa fa-map-marker pl-2" aria-hidden="true"></i> <span class="pl-2"> ${val.address} </span></div>
                        
                        <ul class="prop-opt">
                            
                            ${firstThreeElements.map(infoItem => `<li>${infoItem}</li>`).join('')}
                        </ul>

                       
                        <div class="prop-footer ">
                            <div class="prop-share-new d-flex mt-2">
                                <a target="_blank"
                                href="${val.whatsapp}"
                                    class="share-new "><img src="./assets/whatsapp-overlay.png" alt=""></a>
                                <a target="_blank"
                                    href="${val.insta}"
                                    class="share-new"><img src="./assets/instagram.png" alt=""></a>

                                <a target="_blank" href="${val.map}" class="share-new "><img src="./assets/airbnb-overlay.png"
                                        alt=""></a>
                                <a target="_blank"
                                href="${val.map}"
                                    class="share-new"><img src="./assets/location-overlay.png" alt=""></a>

                            </div>
                            <div class="prop-extra ">
                                Rs.${val.per_night}/Night
                                <br>+ 18% taxes<br>

                            </div>
                        </div>
                    </div>
                </div>
            </div>`


                                        document.querySelector('.other-vilas').style.display = 'none!important';
                                        document.querySelector('#show_unfilterdata_search').innerHTML = unfilterConent;


                                    }
                                    document.querySelector('#show_unfilterdata_search').style.display = 'flex'
                                    document.querySelector('#show_data_search').style.display = 'flex'
                                    document.querySelector('.sreach_other-villa').style.display = 'block'


                                });

                        }
                    })




                })
        }



    </script>



    <!-- <script>
        $(document).ready(function () {
            const $dynamicGallery = document.getElementById("dynamic-gallery-demo-load-more")
                .addEventListener('click', () => {

                    newItems: [
                        {
                            src:
                                "https://images.unsplash.com/photo-1609342122563-a43ac8917a3a?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=1400&q=80",
                            responsive:
                                "https://images.unsplash.com/photo-1609342122563-a43ac8917a3a?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=480&q=80 480, https://images.unsplash.com/photo-1609342122563-a43ac8917a3a?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=800&q=80 800",
                            thumb:
                                "https://images.unsplash.com/photo-1609342122563-a43ac8917a3a?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=240&q=80",
                            subHtml: `<div class="lightGallery-captions">
                <h4>Photo by <a href="https://unsplash.com/@brookecagle">Brooke Cagle</a></h4>
                <p>Description of the slide 1</p>
            </div>`
                        },
                        {
                            video: { "source": [{ "src": "https://www.lightgalleryjs.com//videos/video1.mp4", "type": "video/mp4" }], "attributes": { "preload": false, "controls": true } },
                            thumb:
                                "https://www.lightgalleryjs.com//images/demo/html5-video-poster.jpg",
                            subHtml: `<div class="lightGallery-captions">
                <h4>Photo by <a href="https://unsplash.com/@brookecagle">Brooke Cagle</a></h4>
                <p>Description of the slide 2</p>
            </div>`
                        },
                        {
                            src:
                                "https://images.unsplash.com/photo-1477322524744-0eece9e79640?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1400&q=80",
                            responsive:
                                "https://images.unsplash.com/photo-1477322524744-0eece9e79640?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=480&q=80 480, https://images.unsplash.com/photo-1477322524744-0eece9e79640?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80 800",
                            thumb:
                                "https://images.unsplash.com/photo-1477322524744-0eece9e79640?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=240&q=80"
                        },
                        {
                            src: "//www.youtube.com/watch?v=egyIeygdS_E",
                            poster: "https://img.youtube.com/vi/egyIeygdS_E/maxresdefault.jpg",
                            thumb: "https://img.youtube.com/vi/egyIeygdS_E/maxresdefault.jpg"
                        }
                    ]
                });
            const updatedDynamicElements = [ newItems];
            dynamicGallery.refresh(updatedDynamicElements);

            // To open gallery after updating slides,
            dynamicGallery.openGallery();


        });




    </script>  -->

</body>

</html>